<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Your Free Brochure</title>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="%23333" stroke-width="0.5" opacity="0.3"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.1;
            z-index: -1;
        }

        .container {
            background: rgba(0, 0, 0, 0.85);
            border: 1px solid #c9a96e;
            border-radius: 8px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5), 0 0 0 1px rgba(201, 169, 110, 0.2);
            max-width: 400px;
            width: 100%;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #c9a96e, #d4b876, #c9a96e);
        }

        .logo {
            width: 80px;
            height: 80px;
            background-image: url('YOUR_HEADSHOT_URL_HERE');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid #c9a96e;
            position: relative;
        }

        .logo::after {
            content: '';
            display: none;
        }

        h1 {
            color: #ffffff;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 300;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .subtitle {
            color: #cccccc;
            font-size: 16px;
            margin-bottom: 30px;
            line-height: 1.6;
            font-weight: 300;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #c9a96e;
            font-weight: 400;
            font-size: 14px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        input {
            width: 100%;
            padding: 15px;
            border: 1px solid #444;
            border-radius: 4px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            font-weight: 300;
        }

        input:focus {
            outline: none;
            border-color: #c9a96e;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 10px rgba(201, 169, 110, 0.2);
        }

        input::placeholder {
            color: #888;
        }

        .btn {
            width: 100%;
            background: linear-gradient(135deg, #c9a96e, #d4b876);
            color: #1a1a1a;
            padding: 18px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            background: linear-gradient(135deg, #d4b876, #e0c285);
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(201, 169, 110, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .success-screen {
            display: none;
            text-align: center;
        }

        .success-icon {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #c9a96e, #d4b876);
            border-radius: 8px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: #1a1a1a;
        }

        .download-btn {
            background: linear-gradient(135deg, #c9a96e, #d4b876);
            color: #1a1a1a;
            margin-bottom: 20px;
        }

        .data-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #444;
            border-radius: 4px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }

        .data-title {
            font-weight: 500;
            margin-bottom: 10px;
            color: #c9a96e;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-content {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
            border-radius: 4px;
            padding: 12px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            word-break: break-all;
            max-height: 120px;
            overflow-y: auto;
            color: #cccccc;
        }

        .copy-btn {
            background: #444;
            border: 1px solid #666;
            color: #cccccc;
            font-size: 12px;
            padding: 8px 12px;
            margin-top: 8px;
            width: auto;
            display: inline-block;
        }

        .copy-btn:hover {
            background: #555;
            border-color: #c9a96e;
        }

        .privacy {
            font-size: 12px;
            color: #888;
            margin-top: 20px;
            line-height: 1.4;
        }

        .captcha-container {
            margin: 20px 0;
            display: flex;
            justify-content: center;
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .popup {
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #c9a96e;
            border-radius: 8px;
            padding: 40px 30px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            animation: popupSlide 0.3s ease-out;
            backdrop-filter: blur(10px);
        }

        @keyframes popupSlide {
            from { 
                opacity: 0; 
                transform: scale(0.8) translateY(-20px); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0); 
            }
        }

        .popup-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #c9a96e, #d4b876);
            border-radius: 8px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: #1a1a1a;
        }

        .popup h2 {
            color: #ffffff;
            margin-bottom: 15px;
            font-size: 24px;
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .popup p {
            color: #cccccc;
            margin-bottom: 20px;
            line-height: 1.6;
            font-weight: 300;
        }

        .countdown {
            font-size: 18px;
            font-weight: bold;
            color: #c9a96e;
        }

        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
                margin: 10px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .subtitle {
                font-size: 14px;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Form Screen -->
        <div id="formScreen">
            <div class="logo"></div>
            <h1>Financial House Checklist</h1>
            <p class="subtitle">Get your comprehensive financial planning checklist to maximize cash flow, eliminate debt, protect your family, and build lasting wealth. Includes strategies for education savings, retirement planning, tax reduction, and legacy building.</p>
            
            <form id="contactForm">
                <div class="form-group">
                    <label for="firstName">First Name *</label>
                    <input type="text" id="firstName" name="firstName" required>
                </div>
                
                <div class="form-group">
                    <label for="lastName">Last Name *</label>
                    <input type="text" id="lastName" name="lastName" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="(555) 123-4567">
                </div>
                
                <div class="form-group">
                    <label for="company">Company (Optional)</label>
                    <input type="text" id="company" name="company">
                </div>
                
                <div class="captcha-container">
                    <div class="g-recaptcha" data-sitekey="YOUR_RECAPTCHA_SITE_KEY_HERE"></div>
                </div>
                
                <button type="submit" class="btn">Get My Financial Checklist</button>
            </form>
            
            <p class="privacy">Your information is secure and will never be shared with third parties.</p>
        </div>

        <!-- Success Screen -->
        <div id="successScreen" class="success-screen">
            <div class="success-icon">✓</div>
            <h1>Thank You!</h1>
            <p class="subtitle">Your brochure is ready for download.</p>
            
            <button id="downloadBtn" class="btn download-btn">📋 Download Checklist</button>
            
            <!-- Contact Data for iOS -->
            <div class="data-section">
                <div class="data-title">iOS Contact (vCard):</div>
                <div id="vcardData" class="data-content"></div>
                <button onclick="copyToClipboard('vcardData')" class="btn copy-btn">Copy vCard</button>
            </div>
            
            <!-- Contact Data for Notion -->
            <div class="data-section">
                <div class="data-title">Notion CRM Data (JSON):</div>
                <div id="notionData" class="data-content"></div>
                <button onclick="copyToClipboard('notionData')" class="btn copy-btn">Copy JSON</button>
            </div>
            
            <p class="privacy">Save the data above to add this contact to your systems.</p>
        </div>
    </div>

    <!-- Popup for brochure delivery -->
    <div id="popupOverlay" class="popup-overlay">
        <div class="popup">
            <div class="popup-icon">📧</div>
            <h2>Checklist on the Way!</h2>
            <p>Your Financial House Checklist is being prepared and will be available for download shortly. You'll be redirected to our website in <span id="countdown" class="countdown">5</span> seconds.</p>
        </div>
    </div>

    <script>
        // =====================================
        // CONFIGURATION SECTION - EDIT THESE
        // =====================================
        
        // Replace with your Google Drive shareable link
        const BROCHURE_URL = 'https://drive.google.com/open?id=1FR1VKooynjPPeKBoYO-hFbtZwECtyYUP&usp=drive_fs';
        
        // Replace with your website URL
        const REDIRECT_URL = 'https://linktr.ee/danaellison';
        
        // Replace with your reCAPTCHA site key (get from Google reCAPTCHA console)
        const RECAPTCHA_SITE_KEY = '6LeoG4srAAAAALReejXcWRXHHAqsKSCKj3vJ-ICa';
        
        // Replace with your headshot image URL
        const HEADSHOT_URL = 'https://drive.google.com/open?id=10RNlG16hhAme0C-JWTjJ6jH54i6Vgc4p&usp=drive_fs';
        
        // =====================================
        // Form submission handler
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check reCAPTCHA
            const recaptchaResponse = grecaptcha.getResponse();
            if (!recaptchaResponse) {
                alert('Please complete the reCAPTCHA verification.');
                return;
            }
            
            // Get form data
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                company: document.getElementById('company').value,
                timestamp: new Date().toISOString(),
                source: 'QR Code Landing Page'
            };
            
            // Generate vCard for iOS
            const vcard = generateVCard(formData);
            document.getElementById('vcardData').textContent = vcard;
            
            // Generate JSON for Notion
            const notionData = generateNotionData(formData);
            document.getElementById('notionData').textContent = JSON.stringify(notionData, null, 2);
            
            // Switch to success screen
            document.getElementById('formScreen').style.display = 'none';
            document.getElementById('successScreen').style.display = 'block';
            document.getElementById('successScreen').classList.add('fade-in');
        });

        // Generate vCard format for iOS
        function generateVCard(data) {
            let vcard = 'BEGIN:VCARD\n';
            vcard += 'VERSION:3.0\n';
            vcard += `FN:${data.firstName} ${data.lastName}\n`;
            vcard += `N:${data.lastName};${data.firstName};;;\n`;
            vcard += `EMAIL:${data.email}\n`;
            if (data.phone) {
                vcard += `TEL:${data.phone}\n`;
            }
            if (data.company) {
                vcard += `ORG:${data.company}\n`;
            }
            vcard += `NOTE:Added from QR landing page on ${new Date().toLocaleDateString()}\n`;
            vcard += 'END:VCARD';
            return vcard;
        }

        // Generate JSON format for Notion
        function generateNotionData(data) {
            return {
                "Name": `${data.firstName} ${data.lastName}`,
                "First Name": data.firstName,
                "Last Name": data.lastName,
                "Email": data.email,
                "Phone": data.phone || "",
                "Company": data.company || "",
                "Source": data.source,
                "Date Added": data.timestamp.split('T')[0],
                "Status": "New Lead",
                "Notes": `Contact submitted via QR code landing page on ${new Date().toLocaleDateString()}`
            };
        }

        // Copy to clipboard function
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                // Show temporary feedback
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'Copied!';
                btn.style.background = '#00b894';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '#6c757d';
                }, 2000);
            });
        }

        // Download brochure from Google Drive
        document.getElementById('downloadBtn').addEventListener('click', function() {
            // Show popup
            document.getElementById('popupOverlay').style.display = 'flex';
            
            // Start countdown
            let countdown = 5;
            const countdownElement = document.getElementById('countdown');
            
            const countdownTimer = setInterval(() => {
                countdown--;
                countdownElement.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(countdownTimer);
                    
                    // Convert Google Drive sharing URL to direct download URL
                    const directDownloadUrl = convertGoogleDriveUrl(BROCHURE_URL);
                    
                    // Open brochure in new tab
                    window.open(directDownloadUrl, '_blank');
                    
                    // Redirect to main website
                    window.location.href = REDIRECT_URL;
                }
            }, 1000);
        });

        // Convert Google Drive sharing URL to direct download/view URL
        function convertGoogleDriveUrl(shareUrl) {
            // Extract file ID from sharing URL
            const fileIdMatch = shareUrl.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);
            if (fileIdMatch) {
                const fileId = fileIdMatch[1];
                // Return direct download URL
                return `https://drive.google.com/uc?export=download&id=${fileId}`;
            }
            // Fallback to original URL if pattern doesn't match
            return shareUrl;
        }

        // Initialize page elements when loaded
        window.onload = function() {
            // Update the data-sitekey attribute
            const recaptchaElement = document.querySelector('.g-recaptcha');
            if (recaptchaElement) {
                recaptchaElement.setAttribute('data-sitekey', RECAPTCHA_SITE_KEY);
            }
            
            // Set headshot image
            const logoElement = document.querySelector('.logo');
            if (logoElement && HEADSHOT_URL !== 'YOUR_HEADSHOT_URL_HERE') {
                logoElement.style.backgroundImage = `url('${HEADSHOT_URL}')`;
            }
        };
    </script>
</body>
</html>